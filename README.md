# Пояснения к программам 

  

![main.py](https://github.com/AndreySamoylenko/KZAS/blob/main/программы/main.py) это вспомогательная программа, исполняемая pyboard, которая принимает сообщения от малины и преобразует их в угол сервопривода и скорость двигателя. 

Программы ![qualification](https://github.com/AndreySamoylenko/KZAS/blob/main/программы/qualification.py), ![final1.py](https://github.com/AndreySamoylenko/KZAS/blob/main/программы/final.py) заливаются на малину и имеют схожую структуру. 

Все их можно разделить на 3 этапа работы: 

1. ожидание кнопки 

2. движение 

3. остановка 

(в программе этапы определяются переменной "state") 

  

На первом этапе малина отправляет сообщение «999999$», которое pyboard считывает и ждет изменения значения, параллельно отправляя показания кнопки. 

Когда кнопка нажата, pyboard отсылает сообщение: "1$". 

raspberry получает его и начинает движение. 

  

В ![qualification](https://github.com/AndreySamoylenko/KZAS/blob/main/программы/qualification.py), второй этап - прохождение с помощью пропорционально-дифференциального регулятора с двумя датчиками и с параллельным считыванием так называемых пересечений (оранжевая и синяя линии). 

ПД-регулятор сначала вычисляет отклонение (e=dat1-dat2) исходя из показаний датчиков бортика, а затем на его основе вычисляет управляющее воздействие (u = (e * kp + (e - e_old) * kd) (e_old - предыдущее отклонение). 
